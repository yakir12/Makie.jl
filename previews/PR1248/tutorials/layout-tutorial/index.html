<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
   <link rel="stylesheet" href="/previews/PR1248/libs/highlight/github.min.css">
   
  <link rel="stylesheet" href="/previews/PR1248/css/franklin.css">
<link rel="stylesheet" href="/previews/PR1248/css/minimal-mistakes.css">
<link rel="stylesheet" href="/previews/PR1248/css/makie.css">
<link rel="icon" href="/previews/PR1248/assets/icon_transparent.png">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/>
<!--[if IE ]>
<style>
  /* old IE unsupported flexbox fixes */
  .greedy-nav .site-title {
    padding-right: 3em;
  }
  .greedy-nav button {
    position: absolute;
    top: 0;
    right: 0;
    height: 100%;
  }
</style>
<![endif]-->

   <title>Layout Tutorial</title>  
  <!-- end custom head snippets -->
</head>
<body class="layout--single">
  <div class="masthead">
    <div class="masthead__inner-wrap">
        <div class="masthead__menu">
            <nav id="site-nav" class="greedy-nav">
                <a class="title-icon" href="/previews/PR1248/"><img src="/previews/PR1248/assets/makie_logo_transparent.svg"/></a>
                <!-- github link -->
                

                <ul class="visible-links">
                    <li class="masthead__menu-item">
                        <a href="https://github.com/JuliaPlots/Makie.jl"><img src="/previews/PR1248/assets/GitHub-Mark-64px.png" class="masthead-icon" /></a>
                    </li>
                    <li class="masthead__menu-item"><a href="/previews/PR1248/examples/">Examples</a></li>
                    <li class="masthead__menu-item"><a href="/previews/PR1248/tutorials/">Tutorials</a></li>
                    <li class="masthead__menu-item"><a href="/previews/PR1248/documentation/">Documentation</a></li>
                </ul>
                <button class="greedy-nav__toggle" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
                <ul class="hidden-links hidden"></ul>
            </nav>
        </div>
    </div>
</div>
  <div class="initial-content">
    <div id="main" role="main">
      <div id="overlay"></div>
      <div id="navbar-container">
        <div id="navbar">
          <form id="lunrSearchForm" name="lunrSearchForm" action="/previews/PR1248/search/index.html">
            <input class="search-input" name="q" placeholder="Search docs" type="text">
          </form>
          <h1>Navigation</h1>
          <ul><li><div class="tocitem-container"><a  href="/previews/PR1248/">Home</a></div></li>
<li><input class="collapse-toggle" id="menuitem-2" type="checkbox" ><div class="tocitem-container"><a  href="/previews/PR1248/examples">Examples</a><label class="tocexpander" for="menuitem-2"><i class="docs-chevron"></i></label></div><ul><li><input class="collapse-toggle" id="menuitem-2-1" type="checkbox" ><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables">Layoutables &amp; Widgets</a><label class="tocexpander" for="menuitem-2-1"><i class="docs-chevron"></i></label></div><ul><li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/axis">Axis</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/axis3">Axis3</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/box">Box</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/button">Button</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/colorbar">Colorbar</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/gridlayout">GridLayout</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/intervalslider">IntervalSlider</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/label">Label</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/layoutables"><code>Layoutables</code></a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/layouting">How layouts work</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/legend">Legend</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/lscene">LScene</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/menu">Menu</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/slider">Slider</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/layoutables/toggle">Toggle</a></div></li>
</ul></li>
<li><input class="collapse-toggle" id="menuitem-2-2" type="checkbox" ><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions">Plotting functions</a><label class="tocexpander" for="menuitem-2-2"><i class="docs-chevron"></i></label></div><ul><li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/arrows">arrows</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/band">band</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/barplot">barplot</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/boxplot">boxplot</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/contour">contour</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/contourf">contourf</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/crossbar">crossbar</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/density">density</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/errorbars">errorbars</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/heatmap">heatmap</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/hist">hist</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/image">image</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/lines">lines</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/linesegments">linesegments</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/mesh">mesh</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/meshscatter">meshscatter</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/poly">poly</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/rangebars">rangebars</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/scatter">scatter</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/scatterlines">scatterlines</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/series">series</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/stairs">stairs</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/stem">stem</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/streamplot">streamplot</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/surface">surface</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/text">text</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/violin">violin</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/volume">volume</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/volumeslices">volumeslices</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/examples/plotting_functions/wireframe">wireframe</a></div></li>
</ul></li>
</ul></li>
<li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked><div class="tocitem-container"><a  href="/previews/PR1248/tutorials">Tutorials</a><label class="tocexpander" for="menuitem-3"><i class="docs-chevron"></i></label></div><ul><li><div class="tocitem-container"><a  href="/previews/PR1248/tutorials/basic-tutorial">Basic Tutorial</a></div></li>
<li><div class="tocitem-container"><a class = active href="/previews/PR1248/tutorials/layout-tutorial">Layout Tutorial</a></div><ul class="page-content">
<li><a href="#layout_tutorial">Layout Tutorial</a></li>
<li><ul>
<li><a href="#basic_layout_plan">Basic layout plan</a></li>
<li><a href="#setting_up_gridlayouts">Setting up GridLayouts</a></li>
<li><a href="#panel_a">Panel A</a></li>
<li><ul>
<li><a href="#legend">Legend</a></li>
<li><a href="#legend_tweaks">Legend Tweaks</a></li>
</ul></li>
<li><a href="#panel_b">Panel B</a></li>
<li><ul>
<li><a href="#colorbar">Colorbar</a></li>
<li><ul>
<li><a href="#mixed_alignmode">Mixed alignmode</a></li>
</ul></li>
</ul></li>
<li><a href="#panel_c">Panel C</a></li>
<li><a href="#panel_d">Panel D</a></li>
<li><ul>
<li><a href="#eeg_labels">EEG labels</a></li>
<li><a href="#scaling_axes_relatively">Scaling axes relatively</a></li>
</ul></li>
<li><a href="#subplot_labels">Subplot labels</a></li>
<li><a href="#final_tweaks">Final tweaks</a></li>
</ul>
</ul>
</li>
</ul></li>
<li><input class="collapse-toggle" id="menuitem-4" type="checkbox" ><div class="tocitem-container"><a  href="/previews/PR1248/documentation">Documentation</a><label class="tocexpander" for="menuitem-4"><i class="docs-chevron"></i></label></div><ul><li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/animation">Animations</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/backends_and_output">Backends &amp; Output</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/cameras">Cameras</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/colors">Colors</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/events">Events</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/faq">Frequently Asked Questions</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/figure">Figures</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/inspector">Inspecting Data</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/lighting">Lighting</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/nodes">Observables &amp; Interaction</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/plot_method_signatures">Plot Method Signatures</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/predefined_themes">Predefined themes</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/recipes">Plot Recipes</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/remote">Using Makie on a remote server</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/scenes">Scenes</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/theming">Theming figures</a></div></li>
<li><div class="tocitem-container"><a  href="/previews/PR1248/documentation/wglmakie">How to use JSServe &#43; WGLMakie</a></div></li>
</ul></li>
</ul>
        </div>
      </div>

<!-- Content appended here -->
<div class="franklin-content"><h1 id="layout_tutorial"><a href="#layout_tutorial" class="header-anchor">Layout Tutorial</a></h1>
<p>In this tutorial, you will learn how to create a complex figure using Makie&#39;s layout tools.</p>
<p>Let&#39;s say that we want to create the following figure:</p>
<img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/final_result.png" alt="final_result.png" />
<p>How do we approach this task?</p>
<p>In the following sections, we&#39;ll go over the process step by step. We&#39;re not always going to use the shortest possible syntax, as the main goal is to get a better understanding of the logic and the available options.</p>
<h2 id="basic_layout_plan"><a href="#basic_layout_plan" class="header-anchor">Basic layout plan</a></h2>
<p>When building figures, you always think in terms of rectangular boxes. We want to find the biggest boxes that enclose meaningful groups of content, and then we realize those boxes either using <code>GridLayout</code> or by placing content objects there.</p>
<p>If we look at our target figure, we can imagine one box around each of the labelled areas A, B, C and D. But A and C are not in one row, neither are B and D. This means that we don&#39;t use a 2x2 GridLayout, but have to be a little more creative.</p>
<p>We could say that A and B are in one column, and C and D are in one column. We can have different row heights for both groups by making one big nested <code>GridLayout</code> within the second column, in which we place C and D. This way the rows of column 2 are decoupled from column 1.</p>
<p>Ok, let&#39;s create the figure first with a gray backgroundcolor, and a predefined font:</p>
<pre><code class="language-julia">using CairoMakie
using FileIO

noto_sans &#61; assetpath&#40;&quot;fonts&quot;, &quot;NotoSans-Regular.ttf&quot;&#41;
noto_sans_bold &#61; assetpath&#40;&quot;fonts&quot;, &quot;NotoSans-Bold.ttf&quot;&#41;

f &#61; Figure&#40;backgroundcolor &#61; RGBf0&#40;0.98, 0.98, 0.98&#41;,
    resolution &#61; &#40;1000, 700&#41;, font &#61; noto_sans&#41;</code></pre></p>
<p>
  <a id="example_6161889860525315811">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_6161889860525315811.png" alt=""> 
  </a>
  
<h2 id="setting_up_gridlayouts"><a href="#setting_up_gridlayouts" class="header-anchor">Setting up GridLayouts</a></h2>
<p>Now, let&#39;s make the four nested GridLayouts that are going to hold the objects of A, B, C and D. There&#39;s also the layout that holds C and D together, so the rows are separate from A and B. We are not going to see anything yet as we have no visible content, but that will come soon.</p>
<pre><code class="language-julia">ga &#61; f&#91;1, 1&#93; &#61; GridLayout&#40;&#41;
gb &#61; f&#91;2, 1&#93; &#61; GridLayout&#40;&#41;
gcd &#61; f&#91;1:2, 2&#93; &#61; GridLayout&#40;&#41;
gc &#61; gcd&#91;1, 1&#93; &#61; GridLayout&#40;&#41;
gd &#61; gcd&#91;2, 1&#93; &#61; GridLayout&#40;&#41;</code></pre>
<h2 id="panel_a"><a href="#panel_a" class="header-anchor">Panel A</a></h2>
<p>Now we can start placing objects into the figure. We start with A.</p>
<p>There are three axes and a legend. We can place the axes first and plot the first data into them.</p>
<pre><code class="language-julia">axtop &#61; Axis&#40;ga&#91;1, 1&#93;&#41;
axmain &#61; Axis&#40;ga&#91;2, 1&#93;, xlabel &#61; &quot;before&quot;, ylabel &#61; &quot;after&quot;&#41;
axright &#61; Axis&#40;ga&#91;2, 2&#93;&#41;

labels &#61; &#91;&quot;treatment&quot;, &quot;placebo&quot;, &quot;control&quot;&#93;
data &#61; randn&#40;3, 100, 2&#41; .&#43; &#91;1, 3, 5&#93;

for &#40;label, col&#41; in zip&#40;labels, eachslice&#40;data, dims &#61; 1&#41;&#41;
    scatter&#33;&#40;axmain, col, label &#61; label&#41;
    density&#33;&#40;axtop, col&#91;:, 1&#93;&#41;
    density&#33;&#40;axright, col&#91;:, 2&#93;, direction &#61; :y&#41;
end

f</code></pre></p>
<p>
  <a id="example_7756328437581813496">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_7756328437581813496.png" alt=""> 
  </a>
  
<p>There&#39;s a small gap between the density plots and their axes, which we can remove by fixing one side of the limits.</p>
<pre><code class="language-julia">ylims&#33;&#40;axtop, low &#61; 0&#41;
xlims&#33;&#40;axright, low &#61; 0&#41;

f</code></pre></p>
<p>
  <a id="example_5093824499186927856">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_5093824499186927856.png" alt=""> 
  </a>
  
<h3 id="legend"><a href="#legend" class="header-anchor">Legend</a></h3>
<p>We have set the <code>label</code> attribute in the scatter call so it&#39;s easier to construct the legend. We can just pass <code>axmain</code> as the second argument to <code>Legend</code>.</p>
<pre><code class="language-julia">leg &#61; Legend&#40;ga&#91;1, 2&#93;, axmain&#41;

f</code></pre></p>
<p>
  <a id="example_805584624111581495">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_805584624111581495.png" alt=""> 
  </a>
  
<h3 id="legend_tweaks"><a href="#legend_tweaks" class="header-anchor">Legend Tweaks</a></h3>
<p>There are a couple things we want to change. There are unnecessary decorations for the side axes, which we are going to hide.</p>
<p>Also, the top axis does not have the same height as the legend. That&#39;s because a legend is usually used on the right of an <code>Axis</code> and is therefore preset with <code>tellheight &#61; false</code>. We set this attribute to <code>true</code> so the row in which the legend sits can contract to its known size.</p>
<pre><code class="language-julia">hidedecorations&#33;&#40;axtop, grid &#61; false&#41;
hidedecorations&#33;&#40;axright, grid &#61; false&#41;
leg.tellheight &#61; true

f</code></pre></p>
<p>
  <a id="example_637052352174945537">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_637052352174945537.png" alt=""> 
  </a>
  
<p>The axes are still a bit too far apart, so we reduce column and row gaps.</p>
<pre><code class="language-julia">colgap&#33;&#40;ga, 10&#41;
rowgap&#33;&#40;ga, 10&#41;

f</code></pre></p>
<p>
  <a id="example_10834240972283703231">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_10834240972283703231.png" alt=""> 
  </a>
  
<p>We can make a title by placing a label across the top two elements.</p>
<pre><code class="language-julia">Label&#40;ga&#91;1, 1:2, Top&#40;&#41;&#93;, &quot;Stimulus ratings&quot;, valign &#61; :bottom,
    padding &#61; &#40;0, 0, 5, 0&#41;&#41;

f</code></pre></p>
<p>
  <a id="example_11680118759983241277">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_11680118759983241277.png" alt=""> 
  </a>
  
<h2 id="panel_b"><a href="#panel_b" class="header-anchor">Panel B</a></h2>
<p>Let&#39;s move to B. We have two axes stacked on top of each other, and a colorbar alongside them. This time, we create the axes by just plotting into the right <code>GridLayout</code> slots. This can be more convenient than creating an <code>Axis</code> first.</p>
<pre><code class="language-julia">xs &#61; LinRange&#40;0.5, 6, 50&#41;
ys &#61; LinRange&#40;0.5, 6, 50&#41;
data1 &#61; &#91;sin&#40;x^1.5&#41; * cos&#40;y^0.5&#41; for x in xs, y in ys&#93; .&#43; 0.1 .* randn.&#40;&#41;
data2 &#61; &#91;sin&#40;x^0.8&#41; * cos&#40;y^1.5&#41; for x in xs, y in ys&#93; .&#43; 0.1 .* randn.&#40;&#41;

ax1, hm &#61; contourf&#40;gb&#91;1, 1&#93;, xs, ys, data1,
    levels &#61; 6&#41;
ax1.title &#61; &quot;Histological analysis&quot;
contour&#33;&#40;xs, ys, data1, levels &#61; 5, color &#61; :black&#41;
hidexdecorations&#33;&#40;ax1&#41;

_, hm2 &#61; contourf&#40;gb&#91;2, 1&#93;, xs, ys, data2,
    levels &#61; 6&#41;
contour&#33;&#40;xs, ys, data2, levels &#61; 5, color &#61; :black&#41;

f</code></pre></p>
<p>
  <a id="example_2190253460210951280">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_2190253460210951280.png" alt=""> 
  </a>
  
<h3 id="colorbar"><a href="#colorbar" class="header-anchor">Colorbar</a></h3>
<p>Now we need a colorbar. Because we haven&#39;t set specific edges for the two contour plots, just how many levels there are, we can make a colorbar using one of the contour plots and then label the bins in there from one to six.</p>
<pre><code class="language-julia">cb &#61; Colorbar&#40;gb&#91;1:2, 2&#93;, hm, label &#61; &quot;cell group&quot;&#41;
low, high &#61; extrema&#40;data1&#41;
edges &#61; range&#40;low, high, length &#61; 7&#41;
centers &#61; &#40;edges&#91;1:6&#93; .&#43; edges&#91;2:7&#93;&#41; .* 0.5
cb.ticks &#61; &#40;centers, string.&#40;1:6&#41;&#41;

f</code></pre></p>
<p>
  <a id="example_15263717786704069478">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_15263717786704069478.png" alt=""> 
  </a>
  
<h4 id="mixed_alignmode"><a href="#mixed_alignmode" class="header-anchor">Mixed alignmode</a></h4>
<p>The right edge of the colorbar is currently aligned with the right edge of the upper density plot. This can later cause a bit of a gap between the density plot and content on the right.</p>
<p>In order to improve this, we can pull the colorbar labels into its layout cell using the <code>Mixed</code> alignmode. The keyword <code>right &#61; 0</code> means that the right side of the colorbar should pull its protrusion content inward with an additional padding of <code>0</code>.</p>
<pre><code class="language-julia">cb.alignmode &#61; Mixed&#40;right &#61; 0&#41;

f</code></pre></p>
<p>
  <a id="example_9007310368922439024">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_9007310368922439024.png" alt=""> 
  </a>
  
<p>As in A, the axes are a bit too far apart.</p>
<pre><code class="language-julia">colgap&#33;&#40;gb, 10&#41;
rowgap&#33;&#40;gb, 10&#41;

f</code></pre></p>
<p>
  <a id="example_7017168145880040673">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_7017168145880040673.png" alt=""> 
  </a>
  
<h2 id="panel_c"><a href="#panel_c" class="header-anchor">Panel C</a></h2>
<p>Now, we move on to panel C. This is just an <code>Axis3</code> with a colorbar on the side.</p>
<pre><code class="language-julia">brain &#61; load&#40;assetpath&#40;&quot;brain.stl&quot;&#41;&#41;

Axis3&#40;gc&#91;1, 1&#93;, title &#61; &quot;Brain activation&quot;&#41;
m &#61; mesh&#33;&#40;
    brain,
    color &#61; &#91;tri&#91;1&#93;&#91;2&#93; for tri in brain for i in 1:3&#93;,
    colormap &#61; Reverse&#40;:magma&#41;,
&#41;
Colorbar&#40;gc&#91;1, 2&#93;, m, label &#61; &quot;BOLD level&quot;&#41;

f</code></pre></p>
<p>
  <a id="example_9375684443156766010">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_9375684443156766010.png" alt=""> 
  </a>
  
<p>Note that the z label overlaps the plot to the left a little bit. <code>Axis3</code> can&#39;t have automatic protrusions because the label positions change with the projection and the cell size of the axis, which is different from the 2D <code>Axis</code>.</p>
<p>You can set the attribute <code>ax3.protrusions</code> to a tuple of four values &#40;left, right, bottom, top&#41; but in this case we just continue plotting until we have all objects that we want, before we look if small tweaks like that are necessary.</p>
<h2 id="panel_d"><a href="#panel_d" class="header-anchor">Panel D</a></h2>
<p>We move on to Panel D, which has a grid of 3x2 axes.</p>
<pre><code class="language-julia">axs &#61; &#91;Axis&#40;gd&#91;row, col&#93;&#41; for row in 1:3, col in 1:2&#93;
hidedecorations&#33;.&#40;axs, grid &#61; false, label &#61; false&#41;

for row in 1:3, col in 1:2
    xrange &#61; col &#61;&#61; 1 ? &#40;0:0.1:6pi&#41; : &#40;0:0.1:10pi&#41;

    eeg &#61; &#91;sum&#40;sin&#40;pi * rand&#40;&#41; &#43; k * x&#41; / k for k in 1:10&#41;
        for x in xrange&#93; .&#43; 0.1 .* randn.&#40;&#41;

    lines&#33;&#40;axs&#91;row, col&#93;, eeg, color &#61; &#40;:black, 0.5&#41;&#41;
end

axs&#91;3, 1&#93;.xlabel &#61; &quot;Day 1&quot;
axs&#91;3, 2&#93;.xlabel &#61; &quot;Day 2&quot;

f</code></pre></p>
<p>
  <a id="example_13525682506704847437">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_13525682506704847437.png" alt=""> 
  </a>
  
<p>We can make a little title for the six axes by placing a <code>Label</code> in the top protrusion of row 1 and across both columns.</p>
<pre><code class="language-julia">Label&#40;gd&#91;1, :, Top&#40;&#41;&#93;, &quot;EEG traces&quot;, valign &#61; :bottom,
    padding &#61; &#40;0, 0, 5, 0&#41;&#41;

f</code></pre></p>
<p>
  <a id="example_14886203307041837838">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_14886203307041837838.png" alt=""> 
  </a>
  
<p>Again, we bring the subplots closer together by reducing gap sizes.</p>
<pre><code class="language-julia">rowgap&#33;&#40;gd, 10&#41;
colgap&#33;&#40;gd, 10&#41;

f</code></pre></p>
<p>
  <a id="example_3532998397795686392">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_3532998397795686392.png" alt=""> 
  </a>
  
<h3 id="eeg_labels"><a href="#eeg_labels" class="header-anchor">EEG labels</a></h3>
<p>Now, we add three boxes on the side with labels in them. In this case, we just place them in another column to the right.</p>
<pre><code class="language-julia">for &#40;i, label&#41; in enumerate&#40;&#91;&quot;sleep&quot;, &quot;awake&quot;, &quot;test&quot;&#93;&#41;
    Box&#40;gd&#91;i, 3&#93;, color &#61; :gray90&#41;
    Label&#40;gd&#91;i, 3&#93;, label, rotation &#61; pi/2, tellheight &#61; false&#41;
end

f</code></pre></p>
<p>
  <a id="example_1453342577159628000">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_1453342577159628000.png" alt=""> 
  </a>
  
<p>The boxes are in the correct positions, but we still need to remove the column gap.</p>
<pre><code class="language-julia">colgap&#33;&#40;gd, 2, 0&#41;

f</code></pre></p>
<p>
  <a id="example_14448269607683170597">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_14448269607683170597.png" alt=""> 
  </a>
  
<h3 id="scaling_axes_relatively"><a href="#scaling_axes_relatively" class="header-anchor">Scaling axes relatively</a></h3>
<p>The fake eeg data we have created has more datapoints on day 1 than day 2. We want to scale the axes so that they both have the same zoom level. We can do this by setting the column widths to <code>Auto&#40;x&#41;</code> where x is a number proportional to the number of data points of the axis. This way, both will have the same relative scaling.</p>
<pre><code class="language-julia">n_day_1 &#61; length&#40;0:0.1:6pi&#41;
n_day_2 &#61; length&#40;0:0.1:10pi&#41;

colsize&#33;&#40;gd, 1, Auto&#40;n_day_1&#41;&#41;
colsize&#33;&#40;gd, 2, Auto&#40;n_day_2&#41;&#41;

f</code></pre></p>
<p>
  <a id="example_17650476251627665022">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_17650476251627665022.png" alt=""> 
  </a>
  
<h2 id="subplot_labels"><a href="#subplot_labels" class="header-anchor">Subplot labels</a></h2>
<p>Now, we can add the subplot labels. We already have our four <code>GridLayout</code> objects that enclose each panel&#39;s content, so the easiest way is to create <code>Label</code>s in the top left protrusion of these layouts. That will leave all other alignments intact, because we&#39;re not creating any new columns or rows. The labels belong to the gaps between the layouts instead.</p>
<pre><code class="language-julia">for &#40;label, layout&#41; in zip&#40;&#91;&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;&#93;, &#91;ga, gb, gc, gd&#93;&#41;
    Label&#40;layout&#91;1, 1, TopLeft&#40;&#41;&#93;, label,
        textsize &#61; 26,
        font &#61; noto_sans_bold,
        padding &#61; &#40;0, 5, 5, 0&#41;,
        halign &#61; :right&#41;
end

f</code></pre></p>
<p>
  <a id="example_11276920899334613801">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_11276920899334613801.png" alt=""> 
  </a>
  
<h2 id="final_tweaks"><a href="#final_tweaks" class="header-anchor">Final tweaks</a></h2>
<p>This looks pretty good already, but the first column of the layout is a bit too wide. We can reduce the column width by setting it to <code>Auto</code> with a number smaller than 1, for example. This gives the column a smaller weight when distributing widths between all columns with <code>Auto</code> sizes.</p>
<p>You can also use <code>Relative</code> or <code>Fixed</code> but they are not as flexible if you add more things later, so I prefer using <code>Auto</code>.</p>
<pre><code class="language-julia">colsize&#33;&#40;f.layout, 1, Auto&#40;0.5&#41;&#41;

f</code></pre></p>
<p>
  <a id="example_8244999477777188559">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/example_8244999477777188559.png" alt=""> 
  </a>
  
<p>The EEG traces are currently as high as the brain axis, let&#39;s increase the size of the row with the panel C layout a bit so it has more space.</p>
<p>And that is the final result:</p>
<pre><code class="language-julia">rowsize&#33;&#40;gcd, 1, Auto&#40;1.5&#41;&#41;

f</code></pre></p>
<p>
  <a id="final_result">
   <img src="/previews/PR1248/assets/tutorials/layout-tutorial/code/output/final_result.png" alt=""> 
  </a>
  
<div class="page-foot">
  <div class="copyright">
    &copy; Makie.jl. Last modified: August 21, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
      <p>These docs were autogenerated using Makie: v0.15.0, GLMakie: v0.4.4, CairoMakie: v0.6.3, WGLMakie: v0.4.4</p>
  </div>
</div>
</div><!-- CONTENT ENDS HERE -->

      </div> <!-- closure of main -->
    </div>   <!-- closure of class initial--content -->

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
        <!-- end custom footer snippets -->
        <div class="page__footer-follow">
          <ul class="social-icons">
            <li><a href="https://twitter.com/MakiePlots" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
            <li><a href="https://github.com/JuliaPlots/Makie.jl" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          </ul>
        </div>
        <div class="page__footer-copyright">&copy; Makie.jl. Powered by <a href="https://github.com/tlienart/Franklin.jl">Franklin</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
      </footer>
    </div>

    <script src="/previews/PR1248/libs/navbar.js"></script>
    <script src="/previews/PR1248/libs/lunr/lunr.min.js"></script>
    <script src="/previews/PR1248/libs/lunr/lunr_index.js"></script>
    <script src="/previews/PR1248/libs/lunr/lunrclient.min.js"></script>
    <!-- <script src="/previews/PR1248/libs/minimal-mistakes/main.min.js"></script> -->
    <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>

    
    
        <script src="/previews/PR1248/libs/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();hljs.configure({tabReplace: '    '});</script>

    
  </body>
</html>
